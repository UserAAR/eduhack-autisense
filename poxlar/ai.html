<!DOCTYPE html>
<html lang="en"> {/* Dili Ä°ngilizce olarak deÄŸiÅŸtirdim (index.html gibi) */}
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Assistant - AutiSense</title> {/* Title gÃ¼ncellendi */}
  <link rel="stylesheet" href="styles.css"> {/* Ana stil dosyasÄ± */}
  <link rel="stylesheet" href="animations.css"> {/* Animasyon dosyasÄ± (varsa) */}
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    /* BU STÄ°LLERÄ° ANA styles.css DOSYANIZA TAÅžIMANIZ Ã–NERÄ°LÄ°R!
      Sadece bu sayfanÄ±n dÃ¼zeni ve AI etkileÅŸim elemanlarÄ± iÃ§in gerekli ek stiller.
      Mevcut AutiSense CSS deÄŸiÅŸkenleri ve stilleri Ã¼zerine inÅŸa edilmiÅŸtir.
    */
    .page-content {
      padding: 60px 0;
      position: relative;
      z-index: 1;
    }

    .ai-container {
      display: flex;
      flex-direction: column;
      gap: 40px;
    }

    @media (min-width: 992px) {
      .ai-container {
        flex-direction: row;
      }
      .child-data-section {
        flex: 0 0 300px; /* Sabit geniÅŸlikli sol sÃ¼tun */
      }
      .ai-interaction-section {
        flex: 1; /* Kalan alanÄ± kaplayan saÄŸ sÃ¼tun */
      }
    }

    .data-card, .ai-card {
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 25px;
      box-shadow: var(--box-shadow);
      margin-bottom: 30px; /* Kartlar arasÄ± boÅŸluk */
    }

    .data-card h3, .ai-card h3 {
      color: var(--primary);
      margin-bottom: 20px;
      font-size: 1.5rem; /* H3 boyutunu diÄŸer kartlarla tutarlÄ± hale getir */
      border-bottom: 2px solid var(--primary-light);
      padding-bottom: 10px;
    }

    #data-display ul {
      list-style: none;
      padding-left: 0;
    }

    #data-display li {
      margin-bottom: 10px;
      padding-left: 25px;
      position: relative;
      color: var(--text-light);
    }

    #data-display li::before {
      content: 'ðŸ“Š'; /* Veya baÅŸka bir ikon */
      position: absolute;
      left: 0;
      font-size: 1rem;
    }

    #chat-history-container {
      background-color: #f9f9f9; /* Hafif farklÄ± bir arka plan */
      border: 1px solid #eee;
      border-radius: var(--border-radius);
      padding: 15px;
      max-height: 400px;
      overflow-y: auto;
      margin-bottom: 25px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .chat-message {
      padding: 10px 15px;
      border-radius: var(--border-radius);
      max-width: 85%;
      word-wrap: break-word;
      line-height: 1.5;
    }

    .user-message {
      background-color: var(--primary);
      color: white;
      align-self: flex-end;
      margin-left: auto;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .ai-message {
      background-color: var(--card-bg);
      color: var(--text);
      border: 1px solid #eee;
      align-self: flex-start;
      margin-right: auto;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .ai-message strong { /* AI cevabÄ±ndaki vurgular */
        color: var(--primary);
        font-weight: 700;
    }
    .ai-message ul {
        margin-top: 10px;
        margin-left: 20px;
        padding-left: 0;
    }
     .ai-message li {
         margin-bottom: 5px;
     }

    #prompt-form label {
      display: block; /* Etiketi ayrÄ± satÄ±ra al */
      font-weight: 600;
      color: var(--text);
      margin-bottom: 10px;
    }

    #user-prompt {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ccc;
      border-radius: var(--border-radius);
      font-family: inherit;
      font-size: 1rem;
      line-height: 1.5;
      min-height: 100px;
      resize: vertical;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      margin-bottom: 15px;
    }

    #user-prompt:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.2); /* primary rengin rgba'sÄ± */
    }

    #submit-button {
      /* .btn ve .btn-primary stillerini kullanacak ama ek Ã¶zellikler eklenebilir */
      width: auto; /* Formun sonuna yasla */
      float: right; /* SaÄŸda hizala */
    }

    #ai-response-container {
        margin-top: 30px; /* Formdan sonra boÅŸluk */
        clear: both; /* float'tan sonra temizle */
    }

    #ai-response {
        background-color: var(--card-bg);
        border: 1px solid #eee;
        border-radius: var(--border-radius);
        padding: 20px;
        min-height: 100px;
        color: var(--text);
        line-height: 1.6;
        box-shadow: var(--box-shadow);
    }
     #ai-response p:last-child { /* Placeholder metinler iÃ§in alt boÅŸluÄŸu kaldÄ±r */
         margin-bottom: 0;
     }

    /* Loader stilleri (Mevcutsa kullan, yoksa ekle) */
    .loader {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      font-style: italic;
      color: var(--text-light);
      min-height: 100px; /* Ä°Ã§erik yokken bile yer kaplasÄ±n */
    }

    .spinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border-left-color: var(--primary); /* Ana rengi kullan */
      animation: spin 1s ease infinite;
      margin-right: 10px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .hidden {
      display: none;
    }
    /* Stil sonu */
  </style>
</head>
<body>
  <div class="stars-background">
    <div class="stars"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>
  </div>

  <header>
    <div class="container">
      <div class="logo">
        <a href="index.html" class="logo">
          <img src="https://api.dicebear.com/6.x/shapes/svg?seed=autiSense" alt="AutiSense Logo" width="40" height="40">
          <h1 class="logo-title">AutiSense</h1>
        </a>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="lesson.html">Lessons</a></li>
          <li><a href="games.html">Games</a></li>
          <li><a href="teachers.html">Teachers</a></li>
          <li class="active"><a href="ai.html">AI Assistant</a></li> {/* AI Assistant eklendi ve active yapÄ±ldÄ± */}
          <li><a href="login.html" class="btn btn-login">Login</a></li>
          <li><a href="register.html" class="btn btn-register">Register</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section id="ai-page" class="page-content">
      <div class="container">
        <h2 class="section-title">Your AI <span class="highlight">Assistant</span></h2>
        <p class="subtitle">Personalized guidance based on your child's progress and your questions.</p>

        <div class="ai-container">

          {/* Sol SÃ¼tun: Ã‡ocuk Veri Ã–zeti */}
          <aside class="child-data-section">
            <div id="child-data" class="data-card">
              <h3>Child Data Summary</h3>
              <div id="data-display" aria-live="polite">
                {/* BaÅŸlangÄ±Ã§ta Loader gÃ¶sterilir, JS ile veri yÃ¼klenir */}
                <div class="loader">
                  <div class="spinner"></div>
                  Loading child data...
                </div>
                {/* Ã–rnek Veri YapÄ±sÄ± (JS ile doldurulacak):
                <ul>
                  <li><strong>Learning Pace:</strong> Moderate</li>
                  <li><strong>Strong Area:</strong> Visual Pattern Recognition</li>
                  <li><strong>Needs Focus:</strong> Social Communication</li>
                  <li><strong>Last Activity:</strong> Emotions Lesson (85% Accuracy)</li>
                </ul>
                */}
              </div>
            </div>
          </aside>

          {/* SaÄŸ SÃ¼tun: AI EtkileÅŸim AlanÄ± */}
          <section class="ai-interaction-section">
            <div id="ai-interaction" class="ai-card">
              <h3>Chat with your Assistant</h3>

              {/* Sohbet GeÃ§miÅŸi */}
              <div id="chat-history-container">
                <div id="chat-history" aria-live="polite">
                   <p style="text-align:center; color: var(--text-light); font-style: italic;">Your conversation will appear here.</p>
                   {/* Ã–rnek Mesajlar (JS ile eklenecek):
                   <div class="user-message">How can I improve my child's turn-taking skills?</div>
                   <div class="ai-message">
                       <p>Great question! Here are a few game ideas based on Alex's progress in visual tasks:</p>
                       <ul>
                           <li><strong>Board Games:</strong> Simple board games with clear rules encourage waiting for turns.</li>
                           <li><strong>Building Blocks:</strong> Take turns adding one block each to build a tower together.</li>
                           <li><strong>Role-Playing:</strong> Use toys to act out simple scenarios where characters take turns talking or acting.</li>
                       </ul>
                       <p>Remember to praise successful turn-taking!</p>
                   </div>
                   */}
                </div>
              </div>

              {/* KullanÄ±cÄ± GiriÅŸ Formu */}
              <form id="prompt-form">
                <label for="user-prompt">Ask your AI Assistant (Optional):</label>
                <textarea id="user-prompt" name="user-prompt" rows="4" placeholder="e.g., What games can help with communication skills? How can I support their strengths?"></textarea>
                <button type="submit" id="submit-button" class="btn btn-primary">
                  Get Guidance
                </button>
              </form>

              {/* AI Cevap AlanÄ± */}
              <div id="ai-response-container">
                 <h3>AI Assistant's Response:</h3>
                 <div id="ai-response" aria-live="polite">
                    <p style="text-align:center; color: var(--text-light); font-style: italic;">The assistant's response will appear here after loading child data or when you ask a question.</p>
                 </div>
                 {/* Loader (JS ile gÃ¶ster/gizle) */}
                 <div id="ai-loader" class="loader hidden">
                   <div class="spinner"></div>
                   AI Assistant is thinking...
                 </div>
              </div>

            </div>
          </section>

        </div> {/* .ai-container sonu */}
      </div> {/* .container sonu */}
    </section> {/* #ai-page sonu */}
  </main>

  <footer>
    {/* Footer iÃ§eriÄŸi index.html ile aynÄ± */}
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="https://api.dicebear.com/6.x/shapes/svg?seed=autiSense" alt="AutiSense Logo" width="40" height="40">
          <h3>Auti<span>Sense</span></h3>
          <p>Making learning accessible and fun for children with autism.</p>
        </div>
        <div class="footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="lesson.html">Lessons</a></li>
            <li><a href="games.html">Games</a></li>
            <li><a href="teachers.html">Teachers</a></li>
            <li><a href="ai.html">AI Assistant</a></li>
          </ul>
        </div>
        <div class="footer-links">
          <h4>Resources</h4>
          <ul>
            <li><a href="#">Blog</a></li>
            <li><a href="#">Research</a></li>
            <li><a href="#">Testimonials</a></li>
            <li><a href="#">Support</a></li>
          </ul>
        </div>
        <div class="footer-contact">
          <h4>Contact Us</h4>
          <p>Email: support@autisense.com</p>
          <p>Phone: (123) 456-7890</p>
          <div class="social-icons">
            <a href="#"><span>Facebook</span></a>
            <a href="#"><span>Twitter</span></a>
            <a href="#"><span>Instagram</span></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 AutiSense. All rights reserved.</p> {/* YÄ±l gÃ¼ncellendi */}
      </div>
    </div>
  </footer>

  {/* Script'ler */}
  <script src="main.js"></script> {/* Ana site script'i (varsa, Ã¶rn: testimonial slider iÃ§in) */}
  <script src="supabase.js"></script> {/* Supabase ayarlarÄ± ve fonksiyonlarÄ± (varsa) */}
  {/* Bu sayfa iÃ§in Ã¶zel JavaScript (veri Ã§ekme, AI ile iletiÅŸim vb.) */}
  {/* <script src="ai-page.js"></script> */}
  {/* Sizin saÄŸladÄ±ÄŸÄ±nÄ±z script.js'in iÃ§eriÄŸini buraya taÅŸÄ±yabilir veya ayrÄ± bir dosyada tutabilirsiniz. */}
  {/* Ã–NEMLÄ°: Sizin verdiÄŸiniz script.js kod iÃ§eriÄŸi CSS idi, gerÃ§ek JS kodunu buraya eklemelisiniz. */}

</body>
</html>